<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/data.js"></script>
<script src="https://code.highcharts.com/modules/drilldown.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>

<figure class="highcharts-figure">
    <div id="container"></div>
    <h1>
        <%-data.totalRequests%>
    </h1>
    <p class="highcharts-description">

        Chart showing browser market shares. Clicking on individual columns
        brings up more detailed data. This chart makes use of the drilldown
        feature in Highcharts to easily switch between datasets.
    </p>
</figure>

<script>
    // Create the chart
    var jsonData = JSON.parse('<%-JSON.stringify(data)%>');
    console.log(jsonData);
    Highcharts.chart('container', {
        chart: {
            type: 'column'
        },
        title: {
            text: 'API Analytics'
        },
        subtitle: {
            text: 'API'
        },
        
        plotOptions: {
            column: {
                pointPadding: 0.2,
                borderWidth: 0,
                // zones: [{
                //     value: successCount,
                //     color: "#e60000"
                // }, {
                //     color: "#2ed8b6"
                // }]
            }
        },
        series: jsonData.barChartArray

    });
</script>